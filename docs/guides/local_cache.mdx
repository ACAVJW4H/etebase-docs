---
title: Local Cache
---

import CodeTabs from '@theme/CodeTabs';
import TabItem from '@theme/TabItem';


At this point you should already know how to create, edit, list and delete data from Etebase.
However, as you may have noticed, in order to edit Etebase collections and items, you need to have them objects themselves to work with. Something you don't always have.

For example, to edit a collection's content you will call `setContent` on an existing collection object.
This is fine if you already have the collection object, but what if you just started the app and don't have a collection object already?
You could just fetch the object each time before changing it, though it's both inefficient and in many cases incorrect.

The correct solution to this problem is to be able to save the objects to a local cache and load them afterwards, which is what this section is about.

:::tip Cache objects are encrypted
Cache objects are encrypted so you can store them locally without worrying.
:::

Storing and loading from cache is quite easy and is almost exactly the same for collections and items. The cache objects are just binary blobs, though if you require them to be valid strings you can convert them using the [Base64 utilitis](../api/utilities#base64) as shown below.

## Saving and loading collections

<CodeTabs>
<TabItem value="js">

```js
// Create a collection
const collection = await collectionManager.create(...);

// The cache blob is just a Uint8Array that can be saved for later use
const cacheBlob = await collectionManager.cacheSave(collection);

// Later on we can load the object back
const collection = await collectionManager.cacheLoad(cacheBlob);
// And use it like any other object:
await collection.setContent("New content");
```

</TabItem>
<TabItem value="py">

```python
# Create a collection
collection = col_mgr.create(...)

# The cache blob is just a bytes object that can be saved for later use
cache_blob = col_mgr.cache_save(collection)

# Later on we can load the object back
collection = col_mgr.cache_load(cache_blob)
# And use it like any other object:
collection.content = b"New content"
```

</TabItem>
</CodeTabs>

### As Base64 encoded string

<CodeTabs>
<TabItem value="js">

```js
// Create a collection
const collection = await collectionManager.create(...);

// The cache blob is just a Uint8Array that can be saved for later use
const cacheB64 = Etebase.toBase64(await collectionManager.cacheSave(collection));

// Later on we can load the object back
const collection = await collectionManager.cacheLoad(Etebase.fromBase64(cacheB64));
// And use it like any other object:
await collection.setContent("New content");
```

</TabItem>
<TabItem value="py">

```python
from etebase import Base64Url

# Create a collection
collection = col_mgr.create(...)

# The cache blob is just a bytes object that can be saved for later use
cache_b64 = Base64Url.to_base64(col_mgr.cache_save(collection))

# Later on we can load the object back
collection = col_mgr.cache_load(Base64Url.from_base64(cache_blob))
# And use it like any other object:
collection.content = b"New content"
```

</TabItem>
</CodeTabs>


## Saving and loading items

<CodeTabs>
<TabItem value="js">

```js
// Create an item
const item = await itemManager.create(...);

// The cache blob is just a Uint8Array that can be saved for later use
const cacheBlob = await itemManager.cacheSave(item);

// Later on we can load the object back
const item = await itemManager.cacheLoad(cacheBlob);
// And use it like any other object:
await item.setContent("New content");
```

</TabItem>
<TabItem value="py">

```python
# Create an item
item = item_mgr.create(...)

# The cache blob is just a bytes object that can be saved for later use
cache_blob = item_mgr.cache_save(item)

# Later on we can load the object back
item = item_mgr.cache_load(cache_blob)
# And use it like any other object:
item.content = b"New content"
```

</TabItem>
</CodeTabs>

### As Base64 encoded string

<CodeTabs>
<TabItem value="js">

```js
// Create an item
const item = await itemManager.create(...);

// The cache blob is just a Uint8Array that can be saved for later use
const cacheB64 = Etebase.toBase64(await itemManager.cacheSave(item));

// Later on we can load the object back
const item = await itemManager.cacheLoad(Etebase.fromBase64(cacheB64));
// And use it like any other object:
await item.setContent("New content");
```

</TabItem>
<TabItem value="py">

```python
from etebase import Base64Url

# Create an item
item = item_mgr.create(...)

# The cache blob is just a bytes object that can be saved for later use
cache_b64 = Base64Url.to_base64(item_mgr.cache_save(item))

# Later on we can load the object back
item = item_mgr.cache_load(Base64Url.from_base64(cache_blob))
# And use it like any other object:
item.content = b"New content"
```

</TabItem>
</CodeTabs>
